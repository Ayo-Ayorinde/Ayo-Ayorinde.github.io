{
  "hash": "c7e0b0c6d342d87d8c5dde1e0b551c07",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Analysis of COVID-19 dataset\"\nauthor: \"Ayorinde Ayomide David\"\ndate: \"2025-07-27\"\ncategories: [code, analysis, r]\nimage: \"image.jpg\"\n---\n\n\n\nIn this project, I explored a COVID-19 dataset using R to validate (or challenge) some of the claims and narratives that circulated during the pandemic.\n\nThe analysis covered:\n\n• Data cleaning and pre-processing\n\n• Data visualization\n\n• Statistical techniques and hypothesis testing\n\nYou can find the data for the project [here](https://github.com/Ayo-Ayorinde/COVID-19_Statistical_Analysis/tree/master/Data)\n\n\n\n---\ntitle: \"Analysis of COVID-19 Dataset\"\nauthor: \"Ayorinde Ayomide David\"\ndate: \"2025-07-27\"\noutput: pdf_document\neditor_options: \n  chunk_output_type: console\n---\n\n\n\n\n\n### Importing the dependencies\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nif(!require(pacman)) install.packages(\"pacman\")  # Installing the package manager\n\npacman::p_load(tidyverse, # Metapackage\n               here, # R library for coercing Rmarkdown into reading dataset from a seperate folder\n               visdat, # R library for graphical inspection of dataset\n               inspectdf, # R library for the distribution of variables \n               gtsummary,\n               ggplot2\n               )\n```\n:::\n\n\n\n### Loading the COVID-19 dataset into R\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncovid <- read_csv(here(\"posts/Statistical_Analysis_of_COVID-19_dataset/data/COVID19_line_list_data.csv\"))\n```\n:::\n\n\n\n### Exploring and inspecting the dataset\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Exploring the dataset\n\ndim(covid)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1085   27\n```\n\n\n:::\n\n```{.r .cell-code}\nhead(covid, n = 10)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 10 × 27\n      id case_in_country `reporting date` ...4  summary  location country gender\n   <dbl>           <dbl> <chr>            <lgl> <chr>    <chr>    <chr>   <chr> \n 1     1              NA 1/20/2020        NA    First c… Shenzhe… China   male  \n 2     2              NA 1/20/2020        NA    First c… Shanghai China   female\n 3     3              NA 1/21/2020        NA    First c… Zhejiang China   male  \n 4     4              NA 1/21/2020        NA    new con… Tianjin  China   female\n 5     5              NA 1/21/2020        NA    new con… Tianjin  China   male  \n 6     6              NA 1/21/2020        NA    First c… Chongqi… China   female\n 7     7              NA 1/21/2020        NA    First c… Sichuan  China   male  \n 8     8              NA 1/21/2020        NA    new con… Beijing  China   male  \n 9     9              NA 1/21/2020        NA    new con… Beijing  China   male  \n10    10              NA 1/21/2020        NA    new con… Beijing  China   male  \n# ℹ 19 more variables: age <dbl>, symptom_onset <chr>,\n#   If_onset_approximated <dbl>, hosp_visit_date <chr>, exposure_start <chr>,\n#   exposure_end <chr>, `visiting Wuhan` <dbl>, `from Wuhan` <dbl>,\n#   death <chr>, recovered <chr>, symptom <chr>, source <chr>, link <chr>,\n#   ...22 <lgl>, ...23 <lgl>, ...24 <lgl>, ...25 <lgl>, ...26 <lgl>,\n#   ...27 <lgl>\n```\n\n\n:::\n\n```{.r .cell-code}\ntail(covid, n = 10)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 10 × 27\n      id case_in_country `reporting date` ...4  summary  location country gender\n   <dbl>           <dbl> <chr>            <lgl> <chr>    <chr>    <chr>   <chr> \n 1  1076              14 2/25/2020        NA    new COV… Bahrain  Bahrain male  \n 2  1077              15 2/25/2020        NA    new COV… Bahrain  Bahrain male  \n 3  1078              16 2/25/2020        NA    new COV… Bahrain  Bahrain female\n 4  1079              17 2/25/2020        NA    new COV… Bahrain  Bahrain female\n 5  1080               1 2/25/2020        NA    new COV… Innsbru… Austria <NA>  \n 6  1081               2 2/25/2020        NA    new COV… Innsbru… Austria <NA>  \n 7  1082               1 2/24/2020        NA    new COV… Afghani… Afghan… <NA>  \n 8  1083               1 2/26/2020        NA    new COV… Algeria  Algeria male  \n 9  1084               1 2/25/2020        NA    new COV… Croatia  Croatia male  \n10  1085               1 2/25/2020        NA    new COV… Bern     Switze… male  \n# ℹ 19 more variables: age <dbl>, symptom_onset <chr>,\n#   If_onset_approximated <dbl>, hosp_visit_date <chr>, exposure_start <chr>,\n#   exposure_end <chr>, `visiting Wuhan` <dbl>, `from Wuhan` <dbl>,\n#   death <chr>, recovered <chr>, symptom <chr>, source <chr>, link <chr>,\n#   ...22 <lgl>, ...23 <lgl>, ...24 <lgl>, ...25 <lgl>, ...26 <lgl>,\n#   ...27 <lgl>\n```\n\n\n:::\n\n```{.r .cell-code}\n# Inspecting the dataset\n\nvis_dat(covid)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n\n```{.r .cell-code}\ninspect_cat(covid) %>% \n  show_plot()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-2-2.png){width=672}\n:::\n\n```{.r .cell-code}\ninspect_num(covid) %>% \n  show_plot()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-2-3.png){width=672}\n:::\n:::\n\n\n\n### Selecting, cleaning, transformation and manipulation of the variables of interest\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncovid_selected <- covid %>% \n  select(id,\n         reporting_date = 'reporting date', # The initial variable name has to go into quote because it has a whitespace which is unconventional for variable name in R\n         gender, \n         death,\n         age,\n         country)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncovid_selected %>% \n  select(death) %>% \n  unique()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 14 × 1\n   death    \n   <chr>    \n 1 0        \n 2 1        \n 3 2/14/2020\n 4 2/26/2020\n 5 2/13/2020\n 6 2/28/2020\n 7 2/27/2020\n 8 2/25/2020\n 9 2/23/2020\n10 2/24/2020\n11 2/22/2020\n12 02/01/20 \n13 2/19/2020\n14 2/21/2020\n```\n\n\n:::\n\n```{.r .cell-code}\ncovid_selected <- covid_selected %>% \n  mutate(death = as.integer(covid$death != 0)) # This overwrite the initial death column by leaving entries as 0 or converting not zero entries to 1\n\ncovid_selected %>% # checking to confirm if the changes has been effected\n  select(death) %>% \n  unique()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 2 × 1\n  death\n  <int>\n1     0\n2     1\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncovid_selected <- covid_selected %>% \n  mutate(reporting_date = mdy(reporting_date)) # This overwrite the initial reporting date by converting the variable class to Date\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncovid_selected <- covid_selected %>% \n  mutate(month = month(reporting_date, label = T),\n         month = replace_na(month,\"Feb\")) # The first mutate chunk create a new column for month and the second replaces na in the month variable with Feb\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncovid_selected <- covid_selected %>% # Creating a column for continent\n  mutate(continent = case_when(\n    country %in% c(\"USA\", \"Canada\") ~ \"North America\",\n    country %in% c(\"France\", \"Germany\", \"Italy\", \"Russia\", \"UK\", \"Finland\", \"Spain\",\n                   \"Sweden\", \"Belgium\", \"Austria\", \"Croatia\", \"Switzerland\") ~ \"Europe\",\n    country %in% c(\"China\", \"Japan\", \"Malaysia\", \"Nepal\", \"Singapore\", \"South Korea\",\n                   \"Taiwan\", \"Thailand\", \"Vietnam\", \"Cambodia\", \"Sri Lanka\", \"UAE\", \n                   \"Hong Kong\", \"India\", \"Phillipines\", \"Iran\", \"Israel\", \"Lebanon\",\n                   \"Kuwait\", \"Bahrain\", \"Afghanistan\") ~ \"Asia\",\n    country %in% c(\"Australia\") ~ \"Oceania\",\n    country %in% c(\"Egypt\", \"Algeria\") ~ \"Africa\",\n    TRUE ~ \"Other\"))\n```\n:::\n\n\n\n### Visualizing some of the variables of interest\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(covid_selected, mapping = aes(x = month)) +\n  geom_bar() +\n  labs(title = \"Distribution of Cases Reported by Month\",\n       subtitle = \"Jan 2020 - Feb, 2020\",\n       x = \"Month\",\n       caption = \"Analyst: Ayorinde Ayomide David\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(covid_selected,mapping = aes(x = continent, fill = continent)) +\n   geom_bar() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1)) +\n  labs(title = \"Distribution of COVID-19 Cases by Country\",\n       subtitle = \"Jan 2020 - Feb 2020\",\n       x = \"Country\",\n       caption = \"Analyst: Ayorinde Ayomide David\",\n       fill = \"Country\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n\n\n### Analyzing fatality by country\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncovid_selected %>% \n  group_by(country) %>%  \n  summarise(number_of_death = sum(death == 1))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 38 × 2\n   country     number_of_death\n   <chr>                 <int>\n 1 Afghanistan               0\n 2 Algeria                   0\n 3 Australia                 0\n 4 Austria                   0\n 5 Bahrain                   0\n 6 Belgium                   0\n 7 Cambodia                  0\n 8 Canada                    0\n 9 China                    39\n10 Croatia                   0\n# ℹ 28 more rows\n```\n\n\n:::\n:::\n\n\n\n### Statistical Analysis\n\n**Two-sample t-test**\n\nH~0~: There is no significant difference between the age of those alive and dead ($\\mu_1 = \\mu_2$)\n\nH~1~: There is a significant difference between the age of those alive and dead ($\\mu_1 \\ne \\mu_2$)\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncovid_selected %>% \n  group_by(death) %>% \n  summarise(gender_death_mean = mean(age, na.rm = T))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 2 × 2\n  death gender_death_mean\n  <int>             <dbl>\n1     0              48.1\n2     1              68.6\n```\n\n\n:::\n:::\n\n\n\nWe can see that there is a difference of about 20(in years) between the ages of those that are dead and alive. Now, the question:\n\nIs this really significant?\n\nLet's confirm using **t.test**\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndead <- covid_selected %>% \n  filter(death == 1)\nalive <- covid_selected %>% \n  filter(death == 0)\n\nt.test(alive$age,\n       dead$age,\n       conf.level = 0.95,\n       alternative = \"two.sided\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n\tWelch Two Sample t-test\n\ndata:  alive$age and dead$age\nt = -10.839, df = 72.234, p-value < 2.2e-16\nalternative hypothesis: true difference in means is not equal to 0\n95 percent confidence interval:\n -24.28669 -16.74114\nsample estimates:\nmean of x mean of y \n 48.07229  68.58621 \n```\n\n\n:::\n:::\n\n\n\n**Decision rule**: If p-value is \\< 0.05, we reject null hypothesis, otherwise, we fail to reject null hypothesis\n\n**Conclusion**: Since the p-value is \\< 0.05, we reject null hypothesis and conclude that there is a significant difference between the age of those that are dead and those that are alive. In order words, older people are more likely/prone to death if tested positive for COVID-19\n\n**Test of Independence**\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncovid_selected <- covid_selected %>% \n  drop_na(gender) %>% \n  mutate(gender_cov = factor(gender),\n         death_cov = factor(case_when(death == 1 ~ \"Dead\",\n                               death == 0 ~ \"Alive\")))\n\nggplot(covid_selected, mapping = aes(x = gender_cov,\n                            fill = death_cov)) +\n  geom_bar() +\n  labs(title = \"Chi-Square Test of Independence Bar Chart\",\n       subtitle = \"Gender and Death\",\n       x = \"Gender\",\n       caption = \"Analyst: Ayorinde Ayomide David\",\n       fill = \"Life status\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-13-1.png){width=672}\n:::\n:::\n\n\n\nAre the proportions of gender independent of life status?\n\nThe question above leads us to the hypothesis below\n\nH~0~: The variables are independent i.e There is no relationship between the variables\n\nH~1~: The variables are not independent i.e There is a relationship between the variables\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncovid_selected %>% \n  select(gender_cov,\n         death_cov) %>% \n  table() %>% \n  chisq.test()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n\tPearson's Chi-squared test with Yates' continuity correction\n\ndata:  .\nX-squared = 7.6428, df = 1, p-value = 0.0057\n```\n\n\n:::\n:::\n\n\n\n**Decision rule**: If p-value is \\< 0.05, we reject null hypothesis, otherwise, we fail to reject null hypothesis\n\n**Conclusion**: Since the p-value is \\< 0.05, we reject null hypothesis and conclude that there is a relationship between the death and gender variable\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}